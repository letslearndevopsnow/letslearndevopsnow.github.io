---
layout:     post
title:      "Setup A Deployment Pipeline On GKE With Cloud Build And Container Registry"
subtitle:   "Setup A Deployment Pipeline On GKE With Cloud Build And Container Registry"
date:       2021-07-16 18:00:00
author:     "Thaung Htike Oo"
header-img: img/black.jpg
catalog: true
tags:
    - GKE
    - GCP
    - CICD
---    

<h2> Introduction </h2>

ကျွန်တော်ဒီနေ့မှာတော့ docker image တွေကို google cloud ပေါ်က container registry ထဲကို cloud build နဲ့ CI CD pipeline တစ်ခုဆောက်ပြီး gke ပေါ်ကို deployment တစ်ခုစမ်းပြမှာဖြစ်ပါတယ်။ ကျွန်တော့်ရဲ့ code တွေကိုတော့ github ထဲမှာထည့်ထားပြီး python flask app တစ်ခု ရေးထားပါတယ်။ demo အသေးစိတ်ကတော့ main branch နဲ့ dev branch ဆိုပြီး branch ၂ခုရှိမယ်။ main branch က push မယ့် docker image ကို latest tag ပေးပြီး dev branch ကဟာကို dev tag အဖြစ်ပေးမယ်။ ပြီးတဲ့အခါ gke ပေါ်မှာ deployment အဖြစ် run ပါမယ်။

main branch က application က အောက်ကပုံအတိုင်း cat gif by main branch ဆိုပြီးဖြစ်တယ်။

![main](https://raw.githubusercontent.com/thaunggyee/thaunggyee.github.io/master/img/main.png)

dev branch က application ကတော့ အောက်ကပုံအတိုင်း cat gif by dev branch ဆိုပြီးဖြစ်တယ်။

![dev](https://raw.githubusercontent.com/thaunggyee/thaunggyee.github.io/master/img/dev.png)
